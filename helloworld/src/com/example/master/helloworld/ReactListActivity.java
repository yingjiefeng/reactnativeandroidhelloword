/** ***************************************************************************************************************************************************************************** *  * @author :fengguangjing * @createTime:2017-6-14上午10:01:44 * @version:4.2.4 * @modifyTime: * @modifyAuthor: * @description: ***************************************************************************************************************************************************************************** */package com.example.master.helloworld;import java.io.IOException;import java.util.ArrayList;import java.util.List;import android.content.res.AssetManager;import android.os.Bundle;import android.support.v7.app.AppCompatActivity;import android.util.Log;import android.view.View;import android.widget.AdapterView;import android.widget.AdapterView.OnItemClickListener;import android.widget.ListView;import com.example.master.helloworld.adapter.ReactAdapter;import com.example.master.helloworld.bean.ReactBean;/** *****************************************************************************************************************************************************************************  *  * @author :fengguangjing * @createTime:2017-6-14上午10:01:44 * @version:4.2.4 * @modifyTime: * @modifyAuthor: * @description: *****************************************************************************************************************************************************************************  */public class ReactListActivity extends AppCompatActivity {	ListView listview;	ReactAdapter mReactAdapter;	List<ReactBean> list = new ArrayList<ReactBean>();	@Override	protected void onCreate(Bundle savedInstanceState) {		super.onCreate(savedInstanceState);		setContentView(R.layout.activity_react_list);		listview = (ListView) findViewById(R.id.listview);		readAsset();		mReactAdapter = new ReactAdapter(this,list);		listview.setAdapter(mReactAdapter);		listview.setOnItemClickListener(new OnItemClickListener() {			@Override			public void onItemClick(AdapterView<?> parent, View view, int position, long id) {				if(id!=-1 && list.get((int)id)!=null){					ReactBean bean = list.get((int)id);					MainActivity.startMainActivity(ReactListActivity.this, bean.getBundleAssetName(), bean.getjSMainModuleName(), bean.getModuleName());				}			}		});	}	public void readAsset() {		AssetManager am = this.getAssets();		String[] path = null;		try {			// 列出files目录下的文件			path = am.list("react");		} catch (IOException e) {			e.printStackTrace();		}		// 遍历assets目录下，files文件夹下的所有文件，读取这些文件的数据并输出。		ReactBean bean;		for (int i = 0; i < path.length; i++) {			bean = new ReactBean();			bean.setModuleName("helloworld");			bean.setBundleAssetName("react/"+path[i]);			bean.setjSMainModuleName(path[i].replace(".bundle", ""));			Log.d("", path[i]);			list.add(bean);		}	}}